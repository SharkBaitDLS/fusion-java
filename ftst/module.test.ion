// Copyright (c) 2012-2013 Amazon.com, Inc.  All rights reserved.

(module begin_splice '/fusion/base'

  // Top-level 'begin' should have contents lifted out.
  // That allows macros to produce multiple top-level forms.
  (begin
    (define top "top")
    (begin
      (define middle "middle"))
    (define bottom "bottom"))

  (provide top middle bottom)
)

(require
  begin_splice
  "/check")

(check = top "top")
(check = middle "middle")
(check = bottom "bottom")
